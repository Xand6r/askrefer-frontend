(this["webpackJsonpaskrefer-frontend"]=this["webpackJsonpaskrefer-frontend"]||[]).push([[0],{112:function(e,t,a){},113:function(e,t,a){},118:function(e,t){},119:function(e,t){},120:function(e,t){},121:function(e,t){},122:function(e,t){},123:function(e,t,a){},124:function(e,t,a){},125:function(e,t,a){},129:function(e,t,a){},130:function(e,t,a){},131:function(e,t,a){},133:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a.n(n),s=a(23),r=a.n(s),i=a(3),l=a(13),o=(a(61),a(0));function d(){return Object(o.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"127.055",height:"40.924",viewBox:"0 0 97.055 31.924",children:Object(o.jsx)("g",{id:"Group_9204","data-name":"Group 9204",transform:"translate(-15 -63.312)",children:Object(o.jsxs)("g",{id:"Group_9572","data-name":"Group 9572",transform:"translate(-255 46.231)",children:[Object(o.jsxs)("text",{id:"askrefer",transform:"translate(308 41.005)",fill:"#8584ff","font-size":"20","font-family":"Source Sans Pro, sans-serif","font-weight":"700",children:[Object(o.jsx)("tspan",{x:"-37.02",y:"0",children:"ask"}),Object(o.jsx)("tspan",{y:"0",fill:"#fdc84e",children:"refer"})]}),Object(o.jsxs)("g",{id:"send_1_","data-name":"send (1)",transform:"translate(349.566 17.081)",children:[Object(o.jsx)("g",{id:"Group_9437","data-name":"Group 9437",children:Object(o.jsx)("g",{id:"Group_9436","data-name":"Group 9436",children:Object(o.jsx)("path",{id:"Path_13560","data-name":"Path 13560",d:"M16.767.174.293,8.5a.51.51,0,0,0-.12.086A.545.545,0,0,0,.081,8.7a.578.578,0,0,0-.059.139A.6.6,0,0,0,0,9a.611.611,0,0,0,.019.156.585.585,0,0,0,.057.141.545.545,0,0,0,.09.119A.506.506,0,0,0,.285,9.5l5.181,2.823L6.7,11.782l-.5,1.329,2.583,5.6a.549.549,0,0,0,.079.125.527.527,0,0,0,.108.1.5.5,0,0,0,.13.063.474.474,0,0,0,.288,0,.5.5,0,0,0,.128-.063.525.525,0,0,0,.108-.1.559.559,0,0,0,.08-.13L17.447.918A.5.5,0,0,0,17.474.6a.641.641,0,0,0-.151-.283.569.569,0,0,0-.259-.166.4.4,0,0,0-.3.027Z",fill:"#fdc84e"})})}),Object(o.jsx)("g",{id:"Group_9439","data-name":"Group 9439",transform:"translate(4.817 6.913)",children:Object(o.jsx)("g",{id:"Group_9438","data-name":"Group 9438",children:Object(o.jsx)("path",{id:"Path_13561","data-name":"Path 13561",d:"M6.158.237A.651.651,0,0,0,5.943.083a.613.613,0,0,0-.489,0,.642.642,0,0,0-.215.151L0,5.8l.614.33.307.656L6.158,1.217A.693.693,0,0,0,6.3.988a.739.739,0,0,0,0-.522A.7.7,0,0,0,6.158.237Z",fill:"#5a59ff"})})})]})]})})})}var j=a(5),u=a(21),b=a(49),h=a.n(b),p={position:"top-left",autoClose:2e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0},f=/(ftp|http|https):\/\/?((www|\w\w)\.)?linkedin.com(\w+:{0,1}\w*@)?(\S+)(:([0-9])+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?/,O=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};u.b.error(e,Object(j.a)(Object(j.a)({},p),t))},m=function(e,t){u.b.success(e,Object(j.a)(Object(j.a)({},p),t))},x=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(navigator&&navigator.clipboard)navigator.clipboard.writeText(e);else{var a=document.createElement("textarea");a.value=e,document.body.appendChild(a),a.select(),document.execCommand("copy"),document.body.removeChild(a)}t&&m(t)};function v(e){return/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(e).toLowerCase())}function g(){return Object(n.useEffect)((function(){var e=new URLSearchParams(window.location.search).get("message");m(e)}),[]),Object(o.jsx)("div",{id:"navbar-wrapper",children:Object(o.jsx)("nav",{children:Object(o.jsx)(l.b,{to:"/",children:Object(o.jsx)(d,{})})})})}var w=a.p+"static/media/desktopWIP.1968d420.svg";a(67);function k(){return Object(o.jsx)(o.Fragment,{children:Object(o.jsxs)(l.a,{children:[Object(o.jsx)(g,{}),Object(o.jsxs)("div",{className:"desktop",children:[Object(o.jsx)("img",{src:w,alt:""}),Object(o.jsx)("h1",{children:"We are working on a desktop version for AskRefer. For now please view on a mobile device."})]})]})})}a(68);var _=function(e){var t=e.children,a=Object(n.useState)(!0),c=Object(i.a)(a,2),s=c[0],r=c[1],l=Object(n.useCallback)((function(){window.innerWidth<767?r(!0):r(!1)}),[]);return Object(n.useEffect)((function(){window.innerWidth<767?r(!0):r(!1)}),[window]),Object(n.useEffect)((function(){return window.addEventListener("resize",l),function(){return window.removeEventListener("resize",l)}})),s?Object(o.jsx)(o.Fragment,{children:Object(o.jsx)("div",{className:"layout-app-wrapper",children:t})}):Object(o.jsx)("div",{className:"layout-app-wrapper",children:Object(o.jsx)(k,{})})},y=a(6),N=a(51),C=a(52),S=a.n(C),I=a.p+"static/media/landingicon.a9f60919.svg",P=(a(84),function(){return Object(o.jsx)("div",{className:"askrefer-circular-loader",children:Object(o.jsxs)("div",{className:"lds-ring",children:[Object(o.jsx)("div",{}),Object(o.jsx)("div",{}),Object(o.jsx)("div",{}),Object(o.jsx)("div",{})]})})});a(85);function F(e){var t=e.text,a=e.onClick,n=e.disabled,c=e.loading,s="".concat(n?"--disabled":"");return Object(o.jsx)("div",{onClick:function(){if(!n&&!c)return a()},id:"action-button",className:s,children:c?Object(o.jsx)("div",{className:"spinner",children:Object(o.jsx)(P,{})}):Object(o.jsx)("h4",{children:t})})}function E(){return Object(o.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"110%",height:"50.11",viewBox:"0 0 164.998 54.11",children:Object(o.jsxs)("g",{id:"Group_15282","data-name":"Group 15282",transform:"translate(-909 -3628.999)",children:[Object(o.jsx)("path",{id:"Union_3","data-name":"Union 3",d:"M-5414.593,4769a5,5,0,0,1-5-5v-34l-6.417-11.733c-.557-1.377.292-3.377,1.405-3.376h14.256c.208,0,.274.041.241.114h143.92a5,5,0,0,1,5,5v44a5,5,0,0,1-5,5Z",transform:"translate(6335.187 -1085.894)",fill:"#fdc84e"}),Object(o.jsxs)("text",{id:"_Which_investor_should_i_meet_for_my_fundraise_","data-name":"Which investor should i meet for my fund raise",transform:"translate(925 3637)","font-size":"12","font-family":"OpenSans, Open Sans","letter-spacing":"-0.02em",fill:"#3F3D56",children:[Object(o.jsxs)("tspan",{x:"0",y:"13",children:["\u201c I\u2019m looking for a good "," "]}),Object(o.jsx)("tspan",{x:"0",y:"35",children:"local accountant  \u201d"})]})]})})}function L(){return Object(o.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"50.11",viewBox:"0 0 164.998 54.11",children:Object(o.jsxs)("g",{id:"Group_15283","data-name":"Group 15283",transform:"translate(-909 -3628.999)",children:[Object(o.jsx)("path",{id:"Union_3","data-name":"Union 3",d:"M-5414.593,4769a5,5,0,0,1-5-5v-34l-6.417-11.733c-.557-1.377.292-3.377,1.405-3.376h14.256c.208,0,.274.041.241.114h143.92a5,5,0,0,1,5,5v44a5,5,0,0,1-5,5Z",transform:"translate(6335.187 -1085.894)",fill:"#fdc84e"}),Object(o.jsxs)("text",{id:"_Which_investor_should_I_speak_to_","data-name":"\u201cWhich investor should I speak to?",transform:"translate(925 3637)","font-size":"12","font-family":"OpenSans, Open Sans","letter-spacing":"-0.02em",fill:"#3F3D56",children:[Object(o.jsxs)("tspan",{x:"0",y:"13",children:["\u201c I\u2019m looking for pilot users"," "]}),Object(o.jsx)("tspan",{x:"0",y:"35",children:"for our new product \u201d"})]})]})})}function A(){return Object(o.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"50.11",viewBox:"0 0 164.998 54.11",children:Object(o.jsxs)("g",{id:"Group_15283","data-name":"Group 15283",transform:"translate(-909 -3628.999)",children:[Object(o.jsx)("path",{id:"Union_3","data-name":"Union 3",d:"M-5414.593,4769a5,5,0,0,1-5-5v-34l-6.417-11.733c-.557-1.377.292-3.377,1.405-3.376h14.256c.208,0,.274.041.241.114h143.92a5,5,0,0,1,5,5v44a5,5,0,0,1-5,5Z",transform:"translate(6335.187 -1085.894)",fill:"#fdc84e"}),Object(o.jsxs)("text",{id:"_Which_investor_should_I_speak_to_","data-name":"\u201cWhich investor should I speak to?",transform:"translate(925 3637)","font-size":"12","font-family":"OpenSans, Open Sans","letter-spacing":"-0.02em",fill:"#3F3D56",children:[Object(o.jsx)("tspan",{x:"0",y:"13",children:"\u201c I\u2019m looking for a new"}),Object(o.jsx)("tspan",{x:"0",y:"35",children:"marketing lead \u201d"})]})]})})}a(86),a(87),a(88);function G(){var e=Object(y.f)();return Object(o.jsxs)("div",{id:"landing-page",children:[Object(o.jsxs)("section",{className:"header",children:[Object(o.jsx)("img",{src:I,alt:""}),Object(o.jsx)("h4",{children:"Sometimes you need a personal touch"})]}),Object(o.jsx)("section",{className:"questions",children:Object(o.jsxs)(S.a,Object(j.a)(Object(j.a)({},{infinite:!0,speed:500,slidesToShow:1,slidesToScroll:1,autoplay:!0,arrows:!1}),{},{children:[Object(o.jsx)("div",{children:Object(o.jsx)(E,{})}),Object(o.jsx)("div",{children:Object(o.jsx)(L,{})}),Object(o.jsx)("div",{children:Object(o.jsx)(A,{})})]}))}),Object(o.jsxs)("section",{className:"cta",children:[Object(o.jsx)("h5",{children:"AskRefer empowers your network to search for the right person"}),Object(o.jsx)(F,{text:"Get Started",onClick:function(){e.push("/post")}})]})]})}var R=a(11),T=a.n(R),W=a(16),D=a(7),U=a(53),M=a.n(U),z=a(56),B=a(136);a(93);function Z(e){var t=e.open,a=e.toggleOpen,c=e.component,s=Object(n.useRef)(null),r="".concat(t?"":"--hidden");return Object(B.a)(s,a),Object(o.jsx)("div",{className:r,id:"overlay-component",children:Object(o.jsx)("div",{ref:s,className:"overlay-component__slider",children:Object(o.jsx)(c,{})})})}a(22),a(94);var H=a(31),Y=a.n(H),q=(a(54),"https://askrefer-backend.herokuapp.com"),J=function(){var e=Object(W.a)(T.a.mark((function e(t,a){var n;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Y.a.post(q+t,a,{headers:{"Content-Type":"application/json"}});case 3:return n=e.sent,e.abrupt("return",n);case 7:throw e.prev=7,e.t0=e.catch(0),e.t0;case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,a){return e.apply(this,arguments)}}(),K=function(){var e=Object(W.a)(T.a.mark((function e(t){var a;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Y.a.get(q+t);case 3:return a=e.sent,e.abrupt("return",a);case 7:throw e.prev=7,e.t0=e.catch(0),e.t0;case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),X={name:"",email:"",url:""};function $(e){var t=e.postState,a=Object(n.useState)(X),c=Object(i.a)(a,2),s=c[0],r=c[1],l=Object(n.useState)(""),d=Object(i.a)(l,2),u=d[0],b=d[1],h=Object(n.useState)(!1),p=Object(i.a)(h,2),m=p[0],v=p[1],g=function(e){var t=e.target,a=t.name,n=t.value;r((function(e){return Object(j.a)(Object(j.a)({},e),{},Object(D.a)({},a,n))}))},w=!(!(s.name&&s.email&&s.url)||f.exec(s.url))||m;return Object(o.jsxs)("div",{id:"kyc-form",className:"slider-form",children:[Object(o.jsxs)("div",{className:"header-group",children:[Object(o.jsx)("h1",{className:"slider-form__header",children:u?"Great! Now let\u2019s share your request":"Tell us more about you"}),Object(o.jsx)("h6",{className:"slider-form__subheader",children:u?"Copy and share your referral link or share across LinkedIn or WhatsApp":"This allows AskRefer to update you on the progress of your request"})]}),Object(o.jsxs)("form",{action:"javascript:void(0)",children:[u?"":Object(o.jsxs)(o.Fragment,{children:[Object(o.jsxs)("div",{className:"input__group",children:[Object(o.jsx)("label",{htmlFor:"",children:"Name"}),Object(o.jsx)("input",{type:"text",name:"name",placeholder:"",onChange:g,value:s.name,disabled:m||u})]}),Object(o.jsxs)("div",{className:"input__group",children:[Object(o.jsx)("label",{htmlFor:"",children:"Email"}),Object(o.jsx)("input",{type:"text",name:"email",placeholder:"",onChange:g,value:s.email,disabled:m||u})]}),Object(o.jsxs)("div",{className:"input__group",children:[Object(o.jsx)("label",{htmlFor:"",children:"Linkedin"}),Object(o.jsx)("input",{type:"text",name:"url",onChange:g,value:s.url,disabled:m||u})]})]}),Object(o.jsx)("div",{onClick:function(){var e=s.name,t=s.email,a=s.url;return e?t?a&&!f.exec(a)?O("Please enter a valid linkedIn profile URL"):void 0:O("Please fill in an email we can use to contact you!"):O("Please fill in a name we can use to identify you!")},children:u?Object(o.jsx)("div",{className:"link",children:Object(o.jsxs)(o.Fragment,{children:[Object(o.jsxs)("a",{id:"linkedin",className:"share-button",target:"_blank",title:"Share on LinkedIn",href:"https://www.linkedin.com/sharing/share-offsite/?url=".concat(u),children:[Object(o.jsx)("i",{class:"fab fa-linkedin"}),Object(o.jsx)("h4",{children:"Share on LinkedIn"})]}),Object(o.jsxs)("a",{id:"whatsapp",className:"share-button","data-action":"share/whatsapp/share",href:"whatsapp://send?text=Hi! I\u2019m looking for ".concat(t.title.toLowerCase(),". can you help? ").concat(u),target:"_blank",children:[Object(o.jsx)("i",{class:"fab fa-whatsapp"}),Object(o.jsx)("h4",{children:"Share on Whatsapp"})]}),Object(o.jsx)(F,{text:Object(o.jsxs)("span",{children:[Object(o.jsx)("i",{style:{marginRight:"10px"},class:"fas fa-copy"}),"Copy Referral Link"]}),onClick:function(){x(u,"Your referral link has been copied to your clipboard.")}})]})}):Object(o.jsx)(F,{text:"Generate Ask",onClick:function(){if(!m){v(!0);var e={post:t,user:{fullName:s.name,email:s.email,linkedIn:s.url}};J("/post/create",e).then((function(e){var t=e.data.referralLink;b(t),x(t)})).catch((function(e){var t;O((null===(t=e.response)||void 0===t?void 0:t.data.error)||"There was an unknown error")})).finally((function(){v(!1)}))}},loading:m,disabled:w})})]})]})}a(112);var Q={desire:"",details:"",url:"",duration:1e3,public:!1,allowedEmails:[]};function V(){var e=Object(n.useState)(Q),t=Object(i.a)(e,2),a=t[0],c=t[1],s=Object(n.useState)(!1),r=Object(i.a)(s,2),l=r[0],d=r[1],u=Object(n.useState)(null),b=Object(i.a)(u,2),h=b[0],p=b[1],f=Object(n.useState)(!1),m=Object(i.a)(f,2),x=m[0],v=m[1],g=Object(n.useState)(["papaya"]),w=Object(i.a)(g,2),k=(w[0],w[1],function(e,t){c((function(a){return Object(j.a)(Object(j.a)({},a),{},Object(D.a)({},e,t))}))}),_=!(a.desire&&a.details),y=function(e){return e?e.startsWith("http://")||e.startsWith("https://")?e:"http://".concat(e):""},N=function(){var e=Object(W.a)(T.a.mark((function e(){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return v(!0),e.next=3,C();case 3:v(!1),d(!0);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),C=function(){var e=Object(W.a)(T.a.mark((function e(){var t;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=new FormData).append("file",h),t.append("upload_preset","askrefer"),t.append("cloud_name","xand6r"),e.next=6,fetch("https://api.cloudinary.com/v1_1/xand6r/image/upload",{method:"post",body:t}).then((function(e){return e.json()})).then((function(e){k("url",e.url)})).catch((function(e){return console.log(e)}));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),S=Object(n.useRef)(null);return Object(o.jsxs)("div",{id:"post-page",children:[Object(o.jsxs)("div",{className:"textarea-group",children:[Object(o.jsxs)("h4",{className:"label",children:["Title",Object(o.jsx)("div",{"data-tip":"Describe who you\u2019re looking for with as few words as possible",className:"tooltip-wrapper",children:Object(o.jsx)("i",{class:"fas fa-info-circle fonticon"})})]}),Object(o.jsx)("textarea",{name:"desire",id:"",rows:"1",maxLength:"50",onChange:function(e){return k(e.target.name,e.target.value)},value:a.desire})]}),Object(o.jsxs)("div",{className:"textarea-group",children:[Object(o.jsxs)("h4",{className:"label",htmlFor:"details",children:["Summary",Object(o.jsx)("div",{"data-tip":"Share a bit more context in 1-2 sentences",className:"tooltip-wrapper",children:Object(o.jsx)("i",{class:"fas fa-info-circle fonticon"})})]}),Object(o.jsx)("textarea",{name:"details",id:"",cols:"30",rows:"10",onChange:function(e){return k(e.target.name,e.target.value)},value:a.details})]}),Object(o.jsxs)("div",{className:"textarea-group",children:[Object(o.jsxs)("h4",{className:"label",htmlFor:"url",children:["PDF attachment",Object(o.jsx)("div",{"data-tip":"Upload a pdf with more information",className:"tooltip-wrapper",children:Object(o.jsx)("i",{class:"fas fa-info-circle fonticon"})})]}),Object(o.jsx)("div",{className:"upload-wrapper __".concat(h&&"active"),onClick:function(){S.current.click()}}),Object(o.jsx)("input",{onChange:function(e){var t=e.target.files[0],a=t.type;"application/pdf"===a?p(t):O("Invalid file type: ".concat(a,", please upload a csv"))},style:{display:"none"},type:"file",ref:S}),Object(o.jsx)("div",{className:"filename",children:null===h||void 0===h?void 0:h.name})]}),Object(o.jsxs)("div",{className:"textarea-group",children:[Object(o.jsxs)("h4",{className:"label",htmlFor:"details",children:["Grant public access",Object(o.jsx)("div",{"data-tip":"You can either make the post public or input a number of mails to share it to",className:"tooltip-wrapper",children:Object(o.jsx)("i",{class:"fas fa-info-circle fonticon"})}),Object(o.jsx)(M.a,{defaultChecked:a.public,icons:!1,onChange:function(){k("public",!a.public)}})]}),a.public?Object(o.jsx)(o.Fragment,{}):Object(o.jsx)(z.a,{value:a.allowedEmails,onChange:function(e){return k("allowedEmails",e)},name:"fruits",placeHolder:"Invite people by mail",seprators:["Enter"," ",","]})]}),Object(o.jsx)("div",{onClick:function(){var e=a.desire,t=a.details;return e?t?void 0:O("Please supply more details to better explain your request."):O("Please supply what you are looking for.")},className:"submit-button",children:Object(o.jsx)(F,{text:"Proceed",onClick:N,disabled:_,loading:x})}),Object(o.jsx)(Z,{open:l,toggleOpen:function(){return l&&d(!1)},component:function(){return Object(o.jsx)($,{postState:{title:a.desire,details:a.details,durationInWeeks:a.duration,url:y(a.url),accessControlMode:a.public?"public":"private",allowedEmails:a.allowedEmails}})}})]})}var ee=a(25),te=a.n(ee),ae=a.p+"static/media/pagenotfound.9444914f.svg";a(113);function ne(){var e=Object(y.f)();return Object(o.jsxs)("div",{className:"notFound",children:[Object(o.jsx)("img",{src:ae,alt:""}),Object(o.jsxs)("h1",{children:["Resource not found. ",Object(o.jsx)("span",{onClick:function(){e.push("/")},children:"Go home"})]})]})}var ce=a(26),se=a.n(ce),re=a(18),ie=a.p+"static/media/closeIcon.60cd9331.svg",le=function(e){var t=e.url,a=e.onClose,c=e.open,s=Object(n.useState)(null),r=Object(i.a)(s,2),l=r[0],d=r[1],j=Object(n.useState)(1),u=Object(i.a)(j,2),b=u[0],h=u[1],p=Object(n.useState)(!1),f=Object(i.a)(p,2),O=(f[0],f[1]),m=Object(n.useRef)(null);Object(B.a)(m,a),console.log({url:t});var x=b<l,v=b>1;return c?Object(o.jsxs)("div",{className:"pdf__viewercontainer",children:[Object(o.jsx)("img",{src:ie,onClick:a,className:"close__icon"}),Object(o.jsxs)("div",{ref:m,children:[Object(o.jsx)(re.a,{file:t,onLoadSuccess:function(e){var t=e.numPages;d(t),O(!0)},children:Object(o.jsx)(re.b,{pageNumber:b})}),l&&Object(o.jsxs)("div",{className:"pagination__wrapper",children:[Object(o.jsxs)("div",{className:"navigation",children:[v&&Object(o.jsx)("span",{onClick:function(){return h((function(e){return e-1}))},children:"previous page"}),x&&Object(o.jsx)("span",{onClick:function(){return h((function(e){return e+1}))},children:"next page"})]}),Object(o.jsxs)("div",{className:"pages",children:["Page ",b," of ",l]})]})]})]}):Object(o.jsx)(o.Fragment,{})},oe=(a(123),{name:"",email:"",url:""});function de(e){var t=e.onSubmit,a=(e.postId,e.link,e.user),c=(Object(y.f)(),Object(n.useState)(oe)),s=Object(i.a)(c,2),r=s[0],l=s[1],d=Object(n.useState)(!1),u=Object(i.a)(d,2),b=u[0],h=u[1],p=function(e){var t=e.target,a=t.name,n=t.value;l((function(e){return Object(j.a)(Object(j.a)({},e),{},Object(D.a)({},a,n))}))};Object(n.useEffect)((function(){a&&l(Object(j.a)({},a))}),[a]);var f=!(r.name&&r.email&&v(r.email))||b;return Object(o.jsxs)("div",{id:"kyc-form",className:"slider-form",children:[Object(o.jsxs)("div",{className:"header-group",children:[Object(o.jsx)("h1",{className:"slider-form__header",children:"Awesome!"}),Object(o.jsx)("h6",{className:"slider-form__subheader",children:"We will share your details with the original poster. They will be in touch if it is a match."})]}),Object(o.jsxs)("form",{action:"javascript:void(0)",children:[Object(o.jsxs)("div",{className:"input__group",children:[Object(o.jsx)("label",{htmlFor:"",children:"Name"}),Object(o.jsx)("input",{type:"text",name:"name",onChange:p,value:r.name})]}),Object(o.jsxs)("div",{className:"input__group",children:[Object(o.jsx)("label",{htmlFor:"",children:"Email"}),Object(o.jsx)("input",{type:"text",name:"email",onChange:p,value:r.email})]}),Object(o.jsxs)("div",{className:"input__group",children:[Object(o.jsx)("label",{htmlFor:"",children:"LinkedIn"}),Object(o.jsx)("input",{type:"text",name:"url",onChange:p,value:r.url})]}),Object(o.jsx)("div",{onClick:function(){var e=r.name,t=r.email;r.url;return e?t?v(t)?void 0:O("Please fill in a valid email address"):O("Please fill in an email we can use to contact you!"):O("Please fill in a name we can use to identify you!")},children:Object(o.jsx)(F,{text:"Complete",onClick:function(){if(!b){h(!0);var e=window.location.href.split("/").reverse()[0];J("/referral/recommend",{referralKey:e,user:{fullName:r.name,email:r.email,linkedIn:r.url}}).then((function(e){"ALREADY_APPLIED"===e.data.error?O("You have already applied for this role, thank you!"):m("Your application was successfull, you will be contacted if you are a match!"),t()})).catch((function(e){var t;O((null===(t=e.response)||void 0===t?void 0:t.data.error)||"There was an unknown error")})).finally((function(){h(!1)}))}},loading:b,disabled:f})})]})]})}a(124);var je={email:"",url:""};function ue(e){var t=e.onSubmit,a=e.link,c=e.post,s=e.user,r=Object(n.useRef)(),l=Object(n.useRef)(),d=Object(n.useState)(je),u=Object(i.a)(d,2),b=u[0],h=u[1],p=Object(n.useState)(!1),f=Object(i.a)(p,2),m=f[0],g=f[1],w=Object(n.useState)(!1),k=Object(i.a)(w,2),_=k[0],y=k[1],N=Object(n.useState)(!1),C=Object(i.a)(N,2),S=C[0],I=C[1];Object(n.useEffect)((function(){h(Object(j.a)(Object(j.a)({},s),{},{url:a}))}),[a]);Object(B.a)(l,(function(){y(!1)}));Object(n.useEffect)((function(){!a||S||m||function(e){g(!0),I(!0);var t=a.split("/").reverse()[0];J("/referral/attach",{email:e.email,referralKey:t}).then((function(e){console.log(e),console.log("Attacked"),I(!0)})).catch((function(e){var t;console.log((null===(t=e.response)||void 0===t?void 0:t.data.error)||"There was an unknown error attaching user to link"),I(!1)})).finally((function(){g(!1)}))}(s)}),[a]);var E=!b.email||!v(b.email)||m||!b.url;return Object(o.jsxs)("div",{id:"refer-form",className:"slider-form",children:[Object(o.jsxs)("div",{className:"header-group",children:[Object(o.jsx)("h1",{className:"slider-form__header",children:"Awesome!"}),Object(o.jsx)("h6",{className:"slider-form__subheader",children:"Share this Url with them"})]}),Object(o.jsxs)("form",{action:"javascript:void(0)",children:[Object(o.jsxs)("div",{className:"input__group --refer",children:[Object(o.jsx)("label",{htmlFor:"",children:"Url link"}),Object(o.jsxs)("div",{className:"refer_input__wrapper",children:[Object(o.jsx)("input",{type:"text",name:"name",placeholder:"loading ... ",value:b.url,ref:r,disabled:!0}),Object(o.jsxs)("div",{onClick:function(){return b.email?v(b.email)?void(b.url&&y(!0)):O("Please fill in a valid email adress!"):O("Please fill in your email adress first!")},className:"copy-button",children:[b.url?Object(o.jsx)("h5",{children:"Tap to share"}):Object(o.jsx)(P,{}),_?Object(o.jsxs)("div",{ref:l,className:"share-dropdown",children:[Object(o.jsxs)("h5",{onClick:function(){x(b.url,"Link copied to clipboard")},className:"item",children:[Object(o.jsx)("i",{style:{marginRight:"10px"},class:"fas fa-copy"}),"copy link"]}),Object(o.jsx)("h5",{className:"item",children:Object(o.jsxs)("a",{id:"whatsapp",className:"share-button","data-action":"share/whatsapp/share",href:"whatsapp://send?text=Hi! My friend is looking for ".concat(c.title,". Can you help? ").concat(b.url),target:"_blank",children:[Object(o.jsx)("i",{style:{marginRight:"10px"},class:"fab fa-whatsapp"}),"whatsapp"]})}),Object(o.jsx)("h5",{className:"item",children:Object(o.jsxs)("a",{id:"linkedin",className:"share-button",target:"_blank",title:"Share on LinkedIn",href:"https://www.linkedin.com/sharing/share-offsite/?url=".concat(a),children:[Object(o.jsx)("i",{style:{marginRight:"10px"},class:"fab fa-linkedin"}),"linkedin"]})})]}):""]})]})]}),Object(o.jsx)("div",{onClick:function(){return b.email?v(b.email)?void 0:O("Please enter a valid email address"):O("Please input your email before you submit")},children:Object(o.jsx)(F,{text:"Complete",onClick:t,disabled:E,loading:m})})]})]})}a(125);var be={fullName:"",title:"",text:"",url:"",expiryDate:"",creationDate:"",postId:"",referralId:"",userUrl:"",email:""};function he(e){var t=e.post,a=e.user,c=Object(n.useState)(!1),s=Object(i.a)(c,2),r=s[0],l=s[1],d=Object(n.useState)(be),u=Object(i.a)(d,2),b=u[0],p=u[1],f=Object(n.useState)(!1),x=Object(i.a)(f,2),v=x[0],g=x[1],w=Object(n.useState)(!1),k=Object(i.a)(w,2),_=k[0],N=k[1],C=Object(n.useState)(!1),S=Object(i.a)(C,2),I=S[0],P=S[1],F=Object(n.useState)(""),E=Object(i.a)(F,2),L=E[0],A=E[1],G=Object(n.useState)(null),R=Object(i.a)(G,2),D=R[0],U=R[1],M=Object(y.f)();console.log({post:t}),Object(n.useEffect)((function(){var e=t.createdAt,a=t.details,n=t.expiryDate,c=t.title,s=t.url,r=t._id,i=t.referralId,l=t.owner,o=l.fullName,d=void 0===o?"":o,u=l.url,h=void 0===u?"":u,f=l.email;t.owner;p(Object(j.a)(Object(j.a)({},b),{},{fullName:d,title:c,text:a,url:s,expiryDate:n,creationDate:e,referralId:i,postId:r,userUrl:h,email:f}))}),[]),console.log({stats:D}),Object(n.useEffect)((function(){Boolean(b.email)&&!D&&function(){var e=Object(W.a)(T.a.mark((function e(){var t,a,n;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=b.email,e.next=3,J("/user/statistics",{email:t});case 3:a=e.sent,n=a.data,U(n);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[b]);var z=function(e){if(!e)return"";var t,a=e.split(""),n=Object(i.a)(a,2),c=n[0],s=n[1];return t=s?"".concat(e[0]).concat(e[1]):"".concat(c[0]).concat(s[0]),{color:h()({seed:t}),initials:t}}(b.fullName),B=se()(),H=se()(b.creationDate),Y=se()(b.expiryDate),q=function(e){return 0===e?"Today":1===e?"1 day":"".concat(e," days")},X=function(){setTimeout((function(){M.push("/")}),1500)},$=function(){g(!1),X()},Q=function(){m("We will be in touch. Thank you"),N(!1),X()},V=function(){b.userUrl&&window.open(b.userUrl,"_blank")},ee=(q(Y.diff(H,"day")),q(B.diff(H,"day")),b.url&&b.url.endsWith("pdf"));return Object(o.jsxs)("div",{id:"post-card",children:[Object(o.jsx)("div",{className:"top-nav"}),Object(o.jsxs)("div",{className:"content-body",children:[Object(o.jsxs)("div",{className:"poster_details",children:[Object(o.jsx)("div",{style:{backgroundColor:z.color,cursor:b.userUrl?"pointer":"text"},onClick:V,className:"poster_details__img",children:Object(o.jsx)("h4",{children:z.initials})}),Object(o.jsxs)("div",{className:"extra_details",children:[Object(o.jsx)("h3",{onClick:V,style:{cursor:b.userUrl?"pointer":"text"},className:"poster_details__text",children:b.fullName}),Object(o.jsx)("h6",{children:b.title})]})]}),D?Object(o.jsxs)("div",{children:[Object(o.jsxs)("div",{className:"stats_details",children:[Object(o.jsxs)("div",{className:"one_detail",children:[Object(o.jsxs)("h2",{children:[" ",D.postcount," "]}),Object(o.jsx)("h5",{children:"Posts"})]}),Object(o.jsxs)("div",{className:"one_detail",children:[Object(o.jsxs)("h2",{children:[" ",D.referralCount," "]}),Object(o.jsx)("h5",{children:"Referrals"})]}),Object(o.jsxs)("div",{className:"one_detail",children:[Object(o.jsxs)("h2",{children:[" ",D.totalAccepted," "]}),Object(o.jsx)("h5",{children:"Hires"})]})]}),Object(o.jsxs)("div",{className:"action_details",children:[Object(o.jsx)("div",{onClick:function(){var e=b.referralId;I||(P(!0),N(!0),K("/referral/refer/".concat(e)).then((function(e){var t=e.data.link;A(t)})).catch((function(e){var t;O((null===(t=e.response)||void 0===t?void 0:t.data.error)||"There was an unknown error")})).finally((function(){P(!1)})))},className:"action_button --maybe",children:Object(o.jsx)("h5",{children:"Share"})}),Object(o.jsx)("div",{onClick:function(){return!I&&g(!0)},className:"action_button --yes",children:Object(o.jsx)("h5",{children:"Shortlist me"})})]})]}):Object(o.jsx)(te.a,{style:{height:"100px"}}),Object(o.jsx)("div",{className:"desire_details_wrapper",children:Object(o.jsxs)("div",{className:"desire_details",children:[Object(o.jsx)("h4",{children:"More details"}),Object(o.jsx)("h5",{children:b.text})]})}),ee?Object(o.jsx)("div",{className:"attachment_details_wrapper",children:Object(o.jsxs)("div",{className:"attachment_details",children:[Object(o.jsx)("h4",{children:"Attached Media"}),Object(o.jsx)("div",{onClick:function(){l(!0)},className:"attachments",children:Object(o.jsx)(re.a,{file:b.url,children:Object(o.jsx)(re.b,{pageNumber:1})})})]})}):Object(o.jsx)(o.Fragment,{})]}),Object(o.jsx)(Z,{open:v,toggleOpen:function(){return v&&g(!1)},component:function(){return Object(o.jsx)(de,{user:a,postId:b.postId,link:L,onSubmit:$})}}),Object(o.jsx)(Z,{open:_,toggleOpen:function(){return _&&N(!1)},component:function(){return Object(o.jsx)(ue,{user:a,link:L,post:b,onSubmit:Q})}}),b.url&&Object(o.jsx)(le,{url:b.url,open:r,onClose:function(){return l(!1)}})]})}a.p,a(129);var pe={name:"",email:"",url:"",code:""};function fe(e){var t=e.onSubmit,a=e.setError,c=(Object(y.f)(),Object(n.useState)(pe)),s=Object(i.a)(c,2),r=s[0],l=s[1],d=Object(n.useState)(!1),u=Object(i.a)(d,2),b=u[0],h=u[1],p=Object(n.useState)(0),f=Object(i.a)(p,2),m=f[0],x=f[1],g=Object(n.useState)(null),w=Object(i.a)(g,2),k=w[0],_=w[1],N=function(e){var t=e.target,a=t.name,n=t.value;l((function(e){return Object(j.a)(Object(j.a)({},e),{},Object(D.a)({},a,n))}))},C=!(r.email&&r.name&&v(r.email))||b;return Object(o.jsxs)("div",{id:"preview-form",className:"slider-form",children:[Object(o.jsxs)("div",{className:"header-group",children:[Object(o.jsx)("h1",{className:"slider-form__header",children:"Welcome!"}),m?Object(o.jsx)("h6",{className:"slider-form__subheader",children:"Please check your email for a five digit code to access the post"}):Object(o.jsx)("h6",{className:"slider-form__subheader",children:"Please input your personal details to access the post."})]}),Object(o.jsxs)("form",{action:"javascript:void(0)",children:[m?Object(o.jsxs)("div",{className:"input__group",children:[Object(o.jsx)("label",{htmlFor:"",children:"Code"}),Object(o.jsx)("input",{type:"text",name:"code",onChange:N,value:r.code})]}):Object(o.jsxs)(o.Fragment,{children:[Object(o.jsxs)("div",{className:"input__group",children:[Object(o.jsx)("label",{htmlFor:"",children:"Name"}),Object(o.jsx)("input",{type:"text",name:"name",onChange:N,value:r.name})]}),Object(o.jsxs)("div",{className:"input__group",children:[Object(o.jsx)("label",{htmlFor:"",children:"Email"}),Object(o.jsx)("input",{type:"text",name:"email",onChange:N,value:r.email})]}),Object(o.jsxs)("div",{className:"input__group",children:[Object(o.jsx)("label",{htmlFor:"",children:"LinkedIn (optional)"}),Object(o.jsx)("input",{type:"text",name:"url",onChange:N,value:r.url})]})]}),Object(o.jsx)("div",{onClick:function(){var e=r.email,t=r.name;return e?v(e)?t?void 0:O("Please fill in a valid name"):O("Please fill in a valid email address"):O("Please fill in an email we can use to contact you!")},children:Object(o.jsx)(F,{text:"Proceed",onClick:function(){if(!b){if(h(!0),m)return k.key,r.code,void setTimeout((function(){h(!1),t(k.data,r)}),1500);var e=window.location.href.split("/").reverse()[0],n={email:r.email,referralId:e};J("/post/validateaccess",Object(j.a)({},n)).then((function(e){var n=e.data,c=n.status,s=n.data,r=n.message,i=n.error;return i&&a(i),"ERROR"===c?O(r,{autoClose:5e3}):"public"===s.accessControlMode?t(s):(x(1),void _(n))})).catch((function(e){var t;O((null===(t=e.response)||void 0===t?void 0:t.data.error)||"There was an unknown error")})).finally((function(){h(!1)}))}},loading:b,disabled:C})})]})]})}var Oe=a.p+"static/media/brokenlink.d2960b0e.svg";a(130);function me(){var e=Object(y.f)();return Object(o.jsxs)("div",{className:"expired",children:[Object(o.jsx)("img",{src:Oe,alt:""}),Object(o.jsxs)("h1",{children:["This post has expired. ",Object(o.jsx)("span",{onClick:function(){e.push("/")},children:"Go home"})]})]})}a(131);function xe(e){var t=Object(y.f)(),a=Object(n.useState)(!0),c=Object(i.a)(a,2),s=c[0],r=c[1],l=Object(n.useState)({}),d=Object(i.a)(l,2),u=d[0],b=d[1],h=Object(n.useState)(""),p=Object(i.a)(h,2),f=p[0],O=p[1],m=Object(n.useState)(!0),x=Object(i.a)(m,2),v=x[0],g=x[1],w=Object(n.useState)(null),k=Object(i.a)(w,2),_=k[0],N=k[1],C=e.match.params.id;return"NOT_FOUND"===f?Object(o.jsx)(ne,{}):"EXPIRED"===f?Object(o.jsx)(me,{}):Object(o.jsxs)("div",{id:"referral-page",children:[s?Object(o.jsx)(te.a,{style:{height:"225px"}}):Object(o.jsx)(he,{post:u,user:_}),Object(o.jsx)("div",{className:"post-ask",children:Object(o.jsx)(F,{text:"Post an Ask",onClick:function(){t.push("/post")}})}),Object(o.jsx)(Z,{open:v,toggleOpen:function(){return!1},component:function(){return Object(o.jsx)(fe,{onSubmit:function(e,t){b(Object(j.a)(Object(j.a)({},e),{},{referralId:C})),N(t),r(!1),g(!1)},setError:O})}})]})}a(47),a(132);function ve(){return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)(g,{}),Object(o.jsxs)(y.c,{children:[Object(o.jsx)(y.a,{exact:!0,path:"/",component:G}),Object(o.jsx)(y.a,{exact:!0,path:"/post",component:V}),Object(o.jsx)(y.a,{path:"/referral/:id",component:xe})]}),Object(o.jsx)(u.a,{}),Object(o.jsx)(N.a,{event:"click",className:"tooltip"})]})}var ge=function(e){return Object(o.jsx)(l.a,{children:Object(o.jsx)(ve,{})})},we=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,137)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,s=t.getLCP,r=t.getTTFB;a(e),n(e),c(e),s(e),r(e)}))};r.a.render(Object(o.jsx)(c.a.StrictMode,{children:Object(o.jsx)(_,{children:Object(o.jsx)(ge,{})})}),document.getElementById("root")),we()},22:function(e,t,a){},45:function(e,t){},47:function(e,t,a){},61:function(e,t,a){},67:function(e,t,a){},68:function(e,t,a){},84:function(e,t,a){},85:function(e,t,a){},86:function(e,t,a){},93:function(e,t,a){},94:function(e,t,a){}},[[133,1,2]]]);
//# sourceMappingURL=main.ca5ea397.chunk.js.map