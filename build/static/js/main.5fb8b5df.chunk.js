(this["webpackJsonpaskrefer-frontend"]=this["webpackJsonpaskrefer-frontend"]||[]).push([[0],{139:function(e,t){},182:function(e,t,a){},215:function(e,t,a){},221:function(e,t,a){},222:function(e,t,a){},223:function(e,t,a){},224:function(e,t,a){},225:function(e,t,a){},234:function(e,t){},235:function(e,t){},236:function(e,t){},237:function(e,t){},238:function(e,t){},256:function(e,t,a){},257:function(e,t,a){},258:function(e,t,a){},259:function(e,t,a){},260:function(e,t,a){},261:function(e,t,a){},265:function(e,t,a){},266:function(e,t,a){},267:function(e,t,a){},268:function(e,t,a){},269:function(e,t,a){},270:function(e,t,a){},271:function(e,t,a){},403:function(e,t,a){},404:function(e,t,a){},405:function(e,t,a){},406:function(e,t,a){},422:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(37),s=a.n(r),i=a(4),l=a(38),o=(a(215),a(1));function d(){return Object(o.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"127.055",height:"40.924",viewBox:"0 0 97.055 31.924",children:Object(o.jsx)("g",{id:"Group_9204","data-name":"Group 9204",transform:"translate(-15 -63.312)",children:Object(o.jsxs)("g",{id:"Group_9572","data-name":"Group 9572",transform:"translate(-255 46.231)",children:[Object(o.jsxs)("text",{id:"askrefer",transform:"translate(308 41.005)",fill:"#8584ff","font-size":"20","font-family":"Source Sans Pro, sans-serif","font-weight":"700",children:[Object(o.jsx)("tspan",{x:"-37.02",y:"0",children:"ask"}),Object(o.jsx)("tspan",{y:"0",fill:"#fdc84e",children:"refer"})]}),Object(o.jsxs)("g",{id:"send_1_","data-name":"send (1)",transform:"translate(349.566 17.081)",children:[Object(o.jsx)("g",{id:"Group_9437","data-name":"Group 9437",children:Object(o.jsx)("g",{id:"Group_9436","data-name":"Group 9436",children:Object(o.jsx)("path",{id:"Path_13560","data-name":"Path 13560",d:"M16.767.174.293,8.5a.51.51,0,0,0-.12.086A.545.545,0,0,0,.081,8.7a.578.578,0,0,0-.059.139A.6.6,0,0,0,0,9a.611.611,0,0,0,.019.156.585.585,0,0,0,.057.141.545.545,0,0,0,.09.119A.506.506,0,0,0,.285,9.5l5.181,2.823L6.7,11.782l-.5,1.329,2.583,5.6a.549.549,0,0,0,.079.125.527.527,0,0,0,.108.1.5.5,0,0,0,.13.063.474.474,0,0,0,.288,0,.5.5,0,0,0,.128-.063.525.525,0,0,0,.108-.1.559.559,0,0,0,.08-.13L17.447.918A.5.5,0,0,0,17.474.6a.641.641,0,0,0-.151-.283.569.569,0,0,0-.259-.166.4.4,0,0,0-.3.027Z",fill:"#fdc84e"})})}),Object(o.jsx)("g",{id:"Group_9439","data-name":"Group 9439",transform:"translate(4.817 6.913)",children:Object(o.jsx)("g",{id:"Group_9438","data-name":"Group 9438",children:Object(o.jsx)("path",{id:"Path_13561","data-name":"Path 13561",d:"M6.158.237A.651.651,0,0,0,5.943.083a.613.613,0,0,0-.489,0,.642.642,0,0,0-.215.151L0,5.8l.614.33.307.656L6.158,1.217A.693.693,0,0,0,6.3.988a.739.739,0,0,0,0-.522A.7.7,0,0,0,6.158.237Z",fill:"#5a59ff"})})})]})]})})})}var u=a(15),j=a(80),b=a(63),h=a.n(b),p={position:"top-left",autoClose:2e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0},f=/(ftp|http|https):\/\/?((www|\w\w)\.)?linkedin.com(\w+:{0,1}\w*@)?(\S+)(:([0-9])+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?/,O=a(96),m=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};j.b.error(e,Object(u.a)(Object(u.a)({},p),t))},x=function(e,t){j.b.success(e,Object(u.a)(Object(u.a)({},p),t))},v=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(navigator&&navigator.clipboard)navigator.clipboard.writeText(e);else{var a=document.createElement("textarea");a.value=e,document.body.appendChild(a),a.select(),document.execCommand("copy"),document.body.removeChild(a)}t&&x(t)};function g(e){return/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(e).toLowerCase())}function w(){return Object(n.useEffect)((function(){var e=new URLSearchParams(window.location.search).get("message");x(e)}),[]),Object(o.jsx)("div",{id:"navbar-wrapper",children:Object(o.jsx)("nav",{children:Object(o.jsx)(l.b,{to:"/",children:Object(o.jsx)(d,{})})})})}var y=a.p+"static/media/desktopWIP.1968d420.svg";a(221);function k(){return Object(o.jsx)(o.Fragment,{children:Object(o.jsxs)(l.a,{children:[Object(o.jsx)(w,{}),Object(o.jsxs)("div",{className:"desktop",children:[Object(o.jsx)("img",{src:y,alt:""}),Object(o.jsx)("h1",{children:"We are working on a desktop version for AskRefer. For now please view on a mobile device."})]})]})})}a(222);var _=function(e){var t=e.children,a=Object(n.useState)(!0),c=Object(i.a)(a,2),r=c[0],s=c[1],l=Object(n.useCallback)((function(){window.innerWidth<767?s(!0):s(!1)}),[]);return Object(n.useEffect)((function(){window.innerWidth<767?s(!0):s(!1)}),[window]),Object(n.useEffect)((function(){return window.addEventListener("resize",l),function(){return window.removeEventListener("resize",l)}})),r?Object(o.jsx)(o.Fragment,{children:Object(o.jsx)("div",{className:"layout-app-wrapper",children:t})}):Object(o.jsx)("div",{className:"layout-app-wrapper",children:Object(o.jsx)(k,{})})},N=a(17),C=a(184),S=a.p+"static/media/landingicon.a9f60919.svg",L=(a(223),function(){return Object(o.jsx)("div",{className:"askrefer-circular-loader",children:Object(o.jsxs)("div",{className:"lds-ring",children:[Object(o.jsx)("div",{}),Object(o.jsx)("div",{}),Object(o.jsx)("div",{}),Object(o.jsx)("div",{})]})})});a(224);function P(e){var t=e.text,a=e.onClick,n=e.disabled,c=e.loading,r="".concat(n?"--disabled":"");return Object(o.jsx)("div",{onClick:function(){if(!n&&!c)return a()},id:"action-button",className:r,children:c?Object(o.jsx)("div",{className:"spinner",children:Object(o.jsx)(L,{})}):Object(o.jsx)("h4",{children:t})})}a(225);function A(){var e=Object(N.f)();return Object(o.jsxs)("div",{id:"landing-page",children:[Object(o.jsxs)("section",{className:"header",children:[Object(o.jsx)("img",{src:S,alt:""}),Object(o.jsxs)("div",{children:[Object(o.jsx)("h2",{children:"Make your network work for you"}),Object(o.jsx)("h4",{children:"Secure, sharable links to help your network refer your next investor, service provider or team member."})]})]}),Object(o.jsx)("section",{className:"cta",children:Object(o.jsx)(P,{text:"Create an Ask",onClick:function(){e.push("/post")}})})]})}var I=a(14),F=a.n(I),T=a(23),E=a(27),R=a(185),D=a.n(R),G=a(205),W=a(107),U=a.n(W),B=a(98),M=a.n(B),H=a(105),z=a(67),K=a.n(z),Y="https://askrefer-backend.herokuapp.com",Z=function(){var e=Object(T.a)(F.a.mark((function e(t,a){var n;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,K.a.post(Y+t,a,{headers:{"Content-Type":"application/json"}});case 3:return n=e.sent,e.abrupt("return",n);case 7:throw e.prev=7,e.t0=e.catch(0),e.t0;case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,a){return e.apply(this,arguments)}}(),J=function(){var e=Object(T.a)(F.a.mark((function e(t){var a;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,K.a.get(Y+t);case 3:return a=e.sent,e.abrupt("return",a);case 7:throw e.prev=7,e.t0=e.catch(0),e.t0;case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),q=a(432),V=a.p+"static/media/closeIcon.60cd9331.svg",X=(a(256),a(257),function(){return Object(o.jsx)("div",{className:"askrefer-circular-loader-blue",children:Object(o.jsxs)("div",{className:"lds-ring",children:[Object(o.jsx)("div",{}),Object(o.jsx)("div",{}),Object(o.jsx)("div",{}),Object(o.jsx)("div",{})]})})}),$=function(e){var t=e.url,a=e.onClose,c=e.open,r=Object(n.useRef)(null);return Object(q.a)(r,a),c?Object(o.jsxs)("div",{className:"pdf__viewercontainer",children:[Object(o.jsx)("img",{src:V,onClick:a,className:"close__icon"}),Object(o.jsxs)("div",{className:"pdf__wrapper",ref:r,children:[Object(o.jsx)("div",{className:"pdf__loader",children:Object(o.jsx)(X,{})}),Object(o.jsx)("div",{className:"viewer__wrapper",children:Object(o.jsx)("iframe",{src:"https://docs.google.com/viewer?url=".concat(t,"&embedded=true"),frameBorder:"0",scrolling:"auto",height:"100%",width:"100%"})})]})]}):Object(o.jsx)(o.Fragment,{})};a(258);function Q(e){var t=e.open,a=e.toggleOpen,c=e.component,r=Object(n.useRef)(null),s="".concat(t?"":"--hidden");return Object(q.a)(r,a),Object(o.jsx)("div",{className:s,id:"overlay-component",children:Object(o.jsx)("div",{ref:r,className:"overlay-component__slider",children:Object(o.jsx)(c,{})})})}var ee=a.p+"static/media/happy.f29e89f5.png",te=(a(59),a(259),{name:"",email:"",url:""});function ae(e){e.onSubmit;var t=e.user,a=Object(n.useState)(!1),c=Object(i.a)(a,2),r=c[0],s=c[1],l=Object(n.useState)(te),d=Object(i.a)(l,2),j=d[0],b=d[1],h=Object(n.useState)(!1),p=Object(i.a)(h,2),f=p[0],O=p[1],v=function(e){var t=e.target,a=t.name,n=t.value;b((function(e){return Object(u.a)(Object(u.a)({},e),{},Object(E.a)({},a,n))}))};Object(n.useEffect)((function(){t&&b(Object(u.a)({},t))}),[t]);var w=!(j.name&&j.email&&g(j.email))||f;return Object(o.jsx)("div",{id:"kyc-form",className:"slider-form",children:r?Object(o.jsxs)("div",{className:"postsubmit__section",children:[Object(o.jsx)("img",{src:ee}),Object(o.jsxs)("div",{className:"text__section",children:[Object(o.jsx)("b",{children:"Awesome!"}),", We will share your interest with the original poster, and they\u2019ll be in touch if there\u2019s a fit."]})]}):Object(o.jsxs)(o.Fragment,{children:[Object(o.jsxs)("div",{className:"header-group",children:[Object(o.jsx)("h1",{className:"slider-form__header",children:"Awesome!"}),Object(o.jsx)("h6",{className:"slider-form__subheader",children:"We will share your details with the original poster. They will be in touch if it is a match."})]}),Object(o.jsxs)("form",{action:"javascript:void(0)",children:[Object(o.jsxs)("div",{className:"input__group",children:[Object(o.jsx)("label",{htmlFor:"",children:"Name"}),Object(o.jsx)("input",{type:"text",name:"name",onChange:v,value:j.name})]}),Object(o.jsxs)("div",{className:"input__group",children:[Object(o.jsx)("label",{htmlFor:"",children:"Email"}),Object(o.jsx)("input",{type:"text",name:"email",onChange:v,value:j.email})]}),Object(o.jsxs)("div",{className:"input__group",children:[Object(o.jsx)("label",{htmlFor:"",children:"LinkedIn"}),Object(o.jsx)("input",{type:"text",name:"url",onChange:v,value:j.url})]}),Object(o.jsx)("div",{onClick:function(){var e=j.name,t=j.email;j.url;return e?t?g(t)?void 0:m("Please fill in a valid email address"):m("Please fill in an email we can use to contact you!"):m("Please fill in a name we can use to identify you!")},children:Object(o.jsx)(P,{text:"Complete",onClick:function(){if(!f){O(!0);var e=window.location.href.split("/").reverse()[0];Z("/referral/recommend",{referralKey:e,user:{fullName:j.name,email:j.email,linkedIn:j.url}}).then((function(e){"ALREADY_APPLIED"===e.data.error?m("You have already applied for this role, thank you!"):x("Your application was successfull, you will be contacted if you are a match!"),s(!0)})).catch((function(e){var t;m((null===(t=e.response)||void 0===t?void 0:t.data.error)||"There was an unknown error")})).finally((function(){O(!1)}))}},loading:f,disabled:w})})]})]})})}a(260);var ne={email:"",url:""};function ce(e){var t=e.onSubmit,a=e.link,c=e.post,r=e.user,s=Object(n.useRef)(),l=Object(n.useRef)(),d=Object(n.useState)(ne),j=Object(i.a)(d,2),b=j[0],h=j[1],p=Object(n.useState)(!1),f=Object(i.a)(p,2),O=f[0],x=f[1],w=Object(n.useState)(!1),y=Object(i.a)(w,2),k=y[0],_=y[1],N=Object(n.useState)(!1),C=Object(i.a)(N,2),S=C[0],A=C[1];Object(n.useEffect)((function(){h(Object(u.a)(Object(u.a)({},r),{},{url:a}))}),[a]);Object(q.a)(l,(function(){_(!1)}));Object(n.useEffect)((function(){!a||S||O||function(e){x(!0),A(!0);var t=a.split("/").reverse()[0];Z("/referral/attach",{email:e.email,referralKey:t}).then((function(e){A(!0)})).catch((function(e){var t;console.log((null===(t=e.response)||void 0===t?void 0:t.data.error)||"There was an unknown error attaching user to link"),A(!1)})).finally((function(){x(!1)}))}(r)}),[a]);var I=!b.email||!g(b.email)||O||!b.url;return Object(o.jsxs)("div",{id:"refer-form",className:"slider-form",children:[Object(o.jsxs)("div",{className:"header-group",children:[Object(o.jsx)("h1",{className:"slider-form__header",children:"Awesome!"}),Object(o.jsx)("h6",{className:"slider-form__subheader",children:"Share this Url with them"})]}),Object(o.jsxs)("form",{action:"javascript:void(0)",children:[Object(o.jsxs)("div",{className:"input__group --refer",children:[Object(o.jsx)("label",{htmlFor:"",children:"Url link"}),Object(o.jsxs)("div",{className:"refer_input__wrapper",children:[Object(o.jsx)("input",{type:"text",name:"name",placeholder:"loading ... ",value:b.url,ref:s,disabled:!0}),Object(o.jsxs)("div",{onClick:function(){return b.email?g(b.email)?void(b.url&&_(!0)):m("Please fill in a valid email adress!"):m("Please fill in your email adress first!")},className:"copy-button",children:[b.url?Object(o.jsx)("h5",{children:"Tap to share"}):Object(o.jsx)(L,{}),k?Object(o.jsxs)("div",{ref:l,className:"share-dropdown",children:[Object(o.jsxs)("h5",{onClick:function(){v(b.url,"Link copied to clipboard")},className:"item",children:[Object(o.jsx)("i",{style:{marginRight:"10px"},class:"fas fa-copy"}),"copy link"]}),Object(o.jsx)("h5",{className:"item",children:Object(o.jsxs)("a",{id:"whatsapp",className:"share-button","data-action":"share/whatsapp/share",href:"whatsapp://send?text=Hi! My friend is looking for ".concat(c.title,". Can you help? ").concat(b.url),target:"_blank",children:[Object(o.jsx)("i",{style:{marginRight:"10px"},class:"fab fa-whatsapp"}),"whatsapp"]})}),Object(o.jsx)("h5",{className:"item",children:Object(o.jsxs)("a",{id:"linkedin",className:"share-button",target:"_blank",title:"Share on LinkedIn",href:"https://www.linkedin.com/sharing/share-offsite/?url=".concat(a),children:[Object(o.jsx)("i",{style:{marginRight:"10px"},class:"fab fa-linkedin"}),"linkedin"]})})]}):""]})]})]}),Object(o.jsx)("div",{onClick:function(){return console.log({state:b}),b.email?g(b.email)?void 0:m("Please enter a valid email address"):m("Please input your email before you submit")},children:Object(o.jsx)(P,{text:"Complete",onClick:t,disabled:I,loading:O})})]})]})}a(261);var re={fullName:"",title:"",text:"",url:"",expiryDate:"",creationDate:"",postId:"",referralId:"",userUrl:"",email:""};function se(e){var t=e.post,a=e.user,c=e.preview,r=e.onClose,s=e.onProceed,l=e.open,d=Object(n.useState)(!1),j=Object(i.a)(d,2),b=j[0],p=j[1],f=Object(n.useState)(re),O=Object(i.a)(f,2),v=O[0],g=O[1],w=Object(n.useState)(!1),y=Object(i.a)(w,2),k=y[0],_=y[1],C=Object(n.useState)(!1),S=Object(i.a)(C,2),L=S[0],A=S[1],I=Object(n.useState)(!1),E=Object(i.a)(I,2),R=E[0],D=E[1],G=Object(n.useState)(""),W=Object(i.a)(G,2),B=W[0],z=W[1],K=Object(n.useState)(null),Y=Object(i.a)(K,2),q=Y[0],V=Y[1],X=Object(n.useState)(!1),ee=Object(i.a)(X,2),te=ee[0],ne=ee[1],se=Object(N.f)();Object(n.useEffect)((function(){var e=t.createdAt,a=t.details,n=t.expiryDate,c=t.title,r=t.url,s=t._id,i=t.referralId,l=t.owner,o=l.fullName,d=void 0===o?"":o,j=l.url,b=void 0===j?"":j,h=l.email;t.owner;g(Object(u.a)(Object(u.a)({},v),{},{fullName:d,title:c,text:a,url:r,expiryDate:n,creationDate:e,referralId:i,postId:s,userUrl:b,email:h}))}),[]),Object(n.useEffect)((function(){Boolean(v.email)&&!q&&l&&function(){var e=Object(T.a)(F.a.mark((function e(){var t,a,n;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=v.email,e.next=3,Z("/user/statistics",{email:t});case 3:a=e.sent,n=a.data,V(n);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[v,l]);var le=function(e){if(!e)return"";var t,a=e.split(""),n=Object(i.a)(a,2),c=n[0],r=n[1];return t=r?"".concat(null===e||void 0===e?void 0:e[0]).concat(null===e||void 0===e?void 0:e[1]):"".concat(null===c||void 0===c?void 0:c[0]).concat(null===r||void 0===r?void 0:r[0]),{color:h()({seed:t}),initials:t}}(v.fullName),oe=function(){var e=Object(T.a)(F.a.mark((function e(){return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!te){e.next=2;break}return e.abrupt("return");case 2:return ne(!0),e.prev=3,e.next=6,s();case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(3),m(e.t0.message);case 11:return e.prev=11,ne(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[3,8,11,14]])})));return function(){return e.apply(this,arguments)}}(),de=U()(),ue=U()(v.creationDate),je=U()(v.expiryDate),be=function(e){return 0===e?"Today":1===e?"1 day":"".concat(e," days")},he=function(){setTimeout((function(){se.push("/")}),1500)},pe=function(){_(!1),he()},fe=function(){x("We will be in touch. Thank you"),A(!1),he()},Oe=function(){v.userUrl&&window.open(v.userUrl,"_blank")},me=(be(je.diff(ue,"day")),be(de.diff(ue,"day")),v.url&&v.url.endsWith("pdf"));return Object(o.jsxs)("div",{id:"post-card",children:[Object(o.jsx)("div",{className:"top-nav",children:c&&Object(o.jsx)(ie,{onClose:r})}),Object(o.jsxs)("div",{className:"content-body",children:[Object(o.jsxs)("div",{className:"poster_details",children:[Object(o.jsx)("div",{style:{backgroundColor:le.color,cursor:v.userUrl?"pointer":"text"},onClick:Oe,className:"poster_details__img",children:Object(o.jsx)("h4",{children:le.initials})}),Object(o.jsxs)("div",{className:"extra_details",children:[Object(o.jsx)("h3",{onClick:Oe,style:{cursor:v.userUrl?"pointer":"text"},className:"poster_details__text",children:v.fullName}),Object(o.jsxs)("h6",{children:["Is looking for ",v.title]})]})]}),Object(o.jsxs)("div",{children:[q?Object(o.jsxs)("div",{className:"stats_details",children:[Object(o.jsxs)("div",{className:"one_detail",children:[Object(o.jsxs)("h2",{children:[" ",q.postcount," "]}),Object(o.jsx)("h5",{children:"Posts"})]}),Object(o.jsxs)("div",{className:"one_detail",children:[Object(o.jsxs)("h2",{children:[" ",q.referralCount," "]}),Object(o.jsx)("h5",{children:"Referrals"})]}),Object(o.jsxs)("div",{className:"one_detail",children:[Object(o.jsxs)("h2",{children:[" ",q.totalAccepted," "]}),Object(o.jsx)("h5",{children:"Hires"})]})]}):Object(o.jsx)(M.a,{style:{height:"100px"}}),Object(o.jsxs)("div",{className:"action_details",children:[Object(o.jsx)("div",{onClick:function(){return!c&&!R&&_(!0)},className:"action_button --yes",children:Object(o.jsx)("h5",{children:"I\u2019m interested. Please shortlist me"})}),Object(o.jsx)("div",{onClick:function(){return!c&&function(){var e=v.referralId;R||(D(!0),A(!0),J("/referral/refer/".concat(e)).then((function(e){var t=e.data.link;z(t)})).catch((function(e){var t;m((null===(t=e.response)||void 0===t?void 0:t.data.error)||"There was an unknown error")})).finally((function(){D(!1)})))}()},className:"action_button --maybe",children:Object(o.jsx)("h5",{children:"I can refer someone else"})})]})]}),Object(o.jsx)("div",{className:"desire_details_wrapper",children:Object(o.jsxs)("div",{className:"desire_details",children:[Object(o.jsx)("h4",{children:"More details"}),Object(o.jsx)("h5",{children:v.text})]})}),me?Object(o.jsx)("div",{className:"attachment_details_wrapper",children:Object(o.jsxs)("div",{className:"attachment_details",children:[Object(o.jsx)("h4",{children:"Attached Media"}),Object(o.jsx)("div",{onClick:function(){p(!0)},className:"attachments",children:Object(o.jsx)(H.a,{file:v.url,children:Object(o.jsx)(H.b,{pageNumber:1})})})]})}):Object(o.jsx)(o.Fragment,{})]}),Object(o.jsx)(Q,{open:k,toggleOpen:function(){return k&&_(!1)},component:function(){return Object(o.jsx)(ae,{user:a,postId:v.postId,link:B,onSubmit:pe})}}),Object(o.jsx)(Q,{open:L,toggleOpen:function(){return L&&A(!1)},component:function(){return Object(o.jsx)(ce,{user:a,link:B,post:v,onSubmit:fe})}}),v.url&&Object(o.jsx)($,{url:v.url,open:b,onClose:function(){return p(!1)}}),c&&l?Object(o.jsx)("div",{className:"endpreview__button",children:Object(o.jsx)(P,{text:"Publish Ask",onClick:oe,disabled:te,loading:te})}):""]})}var ie=function(e){var t=e.onClose;return Object(o.jsx)("div",{onClick:t,className:"close__icon",children:Object(o.jsx)("svg",{width:"13",height:"13",viewBox:"0 0 13 13",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(o.jsx)("path",{d:"M6.5 5.05578L11.5558 0L13 1.44422L7.94422 6.5L13 11.5558L11.5558 13L6.5 7.94422L1.44422 13L0 11.5558L5.05578 6.5L0 1.44422L1.44422 0L6.5 5.05578Z",fill:"#000"})})})};a(265);function le(e){var t=e.postState,a=e.backup,c=e.setBackup,r=Object(n.useState)(""),s=Object(i.a)(r,2),l=s[0],d=s[1],j=Object(n.useState)(!1),b=Object(i.a)(j,2),h=b[0],p=(b[1],Object(n.useState)(!1)),O=Object(i.a)(p,2),x=O[0],g=O[1],w=Object(n.useState)({name:"",email:"",url:""}),y=Object(i.a)(w,2),k=y[0],_=y[1],N=function(e){var t=e.target,a=t.name,n=t.value;_((function(e){return Object(u.a)(Object(u.a)({},e),{},Object(E.a)({},a,n))}))};Object(n.useState)((function(){_(a)}),[]);var C=function(){var e=Object(T.a)(F.a.mark((function e(){var a;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={post:t,user:{fullName:k.name,email:k.email,linkedIn:k.url}},e.abrupt("return",Z("/post/create",a).then((function(e){var t=e.data.referralLink;d(t),v(t),g(!1)})).catch((function(e){var t;m((null===(t=e.response)||void 0===t?void 0:t.data.error)||"There was an unknown error")})));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),S=!(k.name&&k.email&&(!k.url||f.exec(k.url)));return Object(o.jsxs)("div",{id:"kyc-form",className:"slider-form",children:[Object(o.jsxs)("div",{className:"header-group",children:[Object(o.jsx)("h1",{className:"slider-form__header",children:l?"Great! Now let\u2019s share your request":"Tell us more about you"}),Object(o.jsx)("h6",{className:"slider-form__subheader",children:l?"Copy and share your referral link or share across LinkedIn or WhatsApp":"This allows AskRefer to update you on the progress of your request"})]}),Object(o.jsxs)("form",{action:"javascript:void(0)",children:[l?"":Object(o.jsxs)(o.Fragment,{children:[Object(o.jsxs)("div",{className:"input__group",children:[Object(o.jsx)("label",{htmlFor:"",children:"Name"}),Object(o.jsxs)("span",{className:"input__group__subtitle",children:["This will only be visible to approved viewers of your Ask"," "]}),Object(o.jsx)("input",{type:"text",name:"name",placeholder:"",onChange:N,value:k.name,disabled:h||l})]}),Object(o.jsxs)("div",{className:"input__group",children:[Object(o.jsx)("label",{htmlFor:"",children:"Email"}),Object(o.jsx)("span",{className:"input__group__subtitle",children:"This won\u2019t be shared publicly, and will only be used to update you on your search"}),Object(o.jsx)("input",{type:"text",name:"email",placeholder:"",onChange:N,value:k.email,disabled:h||l})]}),Object(o.jsxs)("div",{className:"input__group",children:[Object(o.jsx)("label",{htmlFor:"",children:"Linkedin"}),Object(o.jsx)("span",{className:"input__group__subtitle",children:"Adding your LinkedIn profile helps improve engagement on your search"}),Object(o.jsx)("input",{type:"text",name:"url",onChange:N,value:k.url,disabled:h||l})]})]}),Object(o.jsx)("div",{onClick:function(){var e=k.name,t=k.email,a=k.url;return e?t?a&&!f.exec(a)?m("Please enter a valid linkedIn profile URL"):void 0:m("Please fill in an email we can use to contact you!"):m("Please fill in a name we can use to identify you!")},children:l?Object(o.jsx)("div",{className:"link",children:Object(o.jsxs)(o.Fragment,{children:[Object(o.jsxs)("a",{id:"linkedin",className:"share-button",target:"_blank",title:"Share on LinkedIn",href:"https://www.linkedin.com/sharing/share-offsite/?url=".concat(l),children:[Object(o.jsx)("i",{class:"fab fa-linkedin"}),Object(o.jsx)("h4",{children:"Share on LinkedIn"})]}),Object(o.jsxs)("a",{id:"whatsapp",className:"share-button","data-action":"share/whatsapp/share",href:"whatsapp://send?text=Hi! I\u2019m looking for a ".concat(t.title.toLowerCase(),".  Can you help? ").concat(l),target:"_blank",children:[Object(o.jsx)("i",{class:"fab fa-whatsapp"}),Object(o.jsx)("h4",{children:"Share on Whatsapp"})]}),Object(o.jsx)(P,{text:Object(o.jsxs)("span",{children:[Object(o.jsx)("i",{style:{marginRight:"10px"},class:"fas fa-copy"}),"Copy Referral Link"]}),onClick:function(){v(l,"Your referral link has been copied to your clipboard.")}})]})}):Object(o.jsx)(P,{text:"Preview Ask",onClick:function(){alert("her"),g(!0),c(k)},disabled:S})})]}),Object(o.jsx)(Q,{open:x,toggleOpen:function(){return g(!1)},component:function(){return Object(o.jsx)(se,{post:Object(u.a)(Object(u.a)({},t),{},{owner:{fullName:k.name,url:k.url,email:k.email}}),user:{},preview:!0,onClose:function(){return g(!1)},onProceed:C,open:x})}})]})}a(266);var oe={desire:"",details:"",url:"",duration:1e3,public:!0,allowedEmails:[]},de={name:"",email:"",url:""};function ue(){var e=Object(n.useState)(oe),t=Object(i.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)(de),s=Object(i.a)(r,2),l=s[0],d=s[1],j=Object(n.useState)(!1),b=Object(i.a)(j,2),h=b[0],p=b[1],f=Object(n.useState)(null),O=Object(i.a)(f,2),x=O[0],v=O[1],g=Object(n.useState)(!1),w=Object(i.a)(g,2),y=w[0],k=w[1],_=function(e,t){c((function(a){return Object(u.a)(Object(u.a)({},a),{},Object(E.a)({},e,t))}))},N=!(a.desire&&a.details),C=function(e){return e?e.startsWith("http://")||e.startsWith("https://")?e:"http://".concat(e):""},S=function(){var e=Object(T.a)(F.a.mark((function e(){return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(k(!0),!x){e.next=4;break}return e.next=4,L();case 4:k(!1),p(!0);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),L=function(){var e=Object(T.a)(F.a.mark((function e(){var t;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=new FormData).append("file",x),t.append("upload_preset","askrefer"),t.append("cloud_name","xand6r"),e.next=6,fetch("https://api.cloudinary.com/v1_1/xand6r/image/upload",{method:"post",body:t}).then((function(e){return e.json()})).then((function(e){_("url",e.url)})).catch((function(e){return console.log(e)}));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),A=Object(n.useRef)(null);return Object(o.jsxs)("div",{id:"post-page",children:[Object(o.jsxs)("div",{className:"post-title",children:[Object(o.jsx)("h2",{children:"Create an Ask"}),Object(o.jsx)("h5",{children:"Tell us who you\u2019re looking for and attach any supporting documents"})]}),Object(o.jsxs)("div",{className:"textarea-group",children:[Object(o.jsx)("h4",{className:"label",children:"Title"}),Object(o.jsx)("textarea",{name:"desire",id:"",rows:"1",maxLength:"50",onChange:function(e){return _(e.target.name,e.target.value)},value:a.desire,placeholder:"Hint: A top tier VC with space technology experience"})]}),Object(o.jsxs)("div",{className:"textarea-group",children:[Object(o.jsx)("h4",{className:"label",htmlFor:"details",children:"Summary"}),Object(o.jsx)("textarea",{name:"details",id:"",cols:"30",rows:"10",onChange:function(e){return _(e.target.name,e.target.value)},value:a.details,placeholder:"Hint: Our company, SpaceX, is raising a $500M round. We\u2019re targeting a huge market, have great traction, and have already secured two term sheets. We\u2019re searching for spacetech investors who might be a good fit"})]}),Object(o.jsxs)("div",{className:"textarea-group",children:[Object(o.jsx)("h4",{className:"label",htmlFor:"url",children:"PDF attachment"}),Object(o.jsx)("div",{className:"upload-wrapper __".concat(x&&"active"),onClick:function(){A.current.click()},children:x?"":Object(o.jsx)("h5",{children:"Supporting documents if available (PDF only)"})}),Object(o.jsx)("input",{onChange:function(e){var t=e.target.files[0],a=t.type;"application/pdf"===a?v(t):m("Invalid file type: ".concat(a,", please upload a csv"))},style:{display:"none"},type:"file",ref:A}),Object(o.jsx)("div",{className:"filename",children:null===x||void 0===x?void 0:x.name})]}),Object(o.jsxs)("div",{className:"textarea-group",children:[Object(o.jsxs)("div",{className:"access-control-wrapper",children:[Object(o.jsx)("h4",{className:"",htmlFor:"details",children:"Who can view my Ask?"}),Object(o.jsxs)("div",{children:[Object(o.jsx)(D.a,{defaultChecked:a.public,icons:!1,onChange:function(){_("public",!a.public)}}),Object(o.jsxs)("span",{children:["public access - ",a.public?"on":"off"]})]})]}),a.public?Object(o.jsx)(o.Fragment,{}):Object(o.jsx)(G.a,{value:a.allowedEmails,onChange:function(e){return _("allowedEmails",e)},name:"fruits",placeHolder:"Invite people by mail",seprators:["Enter"," ",","]})]}),Object(o.jsx)("div",{onClick:function(){var e=a.desire,t=a.details;return e?t?void 0:m("Please supply more details to better explain your request."):m("Please supply what you are looking for.")},className:"submit-button",children:Object(o.jsx)(P,{text:"Proceed",onClick:S,disabled:N,loading:y})}),Object(o.jsx)(Q,{open:h,toggleOpen:function(){return h&&p(!1)},component:function(){return Object(o.jsx)(le,{backup:l,setBackup:d,postState:{title:a.desire,details:a.details,durationInWeeks:a.duration,url:C(a.url),accessControlMode:a.public?"public":"private",allowedEmails:a.allowedEmails}})}})]})}var je=a.p+"static/media/pagenotfound.9444914f.svg";a(267);function be(){var e=Object(N.f)();return Object(o.jsxs)("div",{className:"notFound",children:[Object(o.jsx)("img",{src:je,alt:""}),Object(o.jsxs)("h1",{children:["Resource not found. ",Object(o.jsx)("span",{onClick:function(){e.push("/")},children:"Go home"})]})]})}a.p,a(268);var he={name:"",email:"",url:"",code:""};function pe(e){var t=e.onSubmit,a=e.setError,c=(Object(N.f)(),Object(n.useState)(he)),r=Object(i.a)(c,2),s=r[0],l=r[1],d=Object(n.useState)(!1),j=Object(i.a)(d,2),b=j[0],h=j[1],p=Object(n.useState)(0),f=Object(i.a)(p,2),O=f[0],x=f[1],v=Object(n.useState)(null),w=Object(i.a)(v,2),y=w[0],k=w[1],_=function(e){var t=e.target,a=t.name,n=t.value;l((function(e){return Object(u.a)(Object(u.a)({},e),{},Object(E.a)({},a,n))}))},C=!(s.email&&s.name&&g(s.email))||b;return Object(o.jsxs)("div",{id:"preview-form",className:"slider-form",children:[Object(o.jsxs)("div",{className:"header-group",children:[Object(o.jsx)("h1",{className:"slider-form__header",children:"Welcome!"}),O?Object(o.jsx)("h6",{className:"slider-form__subheader",children:"Please check your email for a five digit code to access the post"}):Object(o.jsxs)("h6",{className:"slider-form__subheader",children:["AskRefer is tool to securely indicate your interest in an opportunity, or refer it to someone else who might be a better fit.",Object(o.jsx)("br",{}),Object(o.jsx)("br",{}),Object(o.jsx)("i",{children:"Before proceeding, we need to double-check that you\u2019re approved to view this opportunity. Please enter your details below."})]})]}),Object(o.jsxs)("form",{action:"javascript:void(0)",children:[O?Object(o.jsxs)("div",{className:"input__group",children:[Object(o.jsx)("label",{htmlFor:"",children:"Code"}),Object(o.jsx)("input",{type:"text",name:"code",onChange:_,value:s.code})]}):Object(o.jsxs)(o.Fragment,{children:[Object(o.jsxs)("div",{className:"input__group",children:[Object(o.jsx)("label",{htmlFor:"",children:"Name"}),Object(o.jsx)("span",{className:"input__group__subtitle",children:"This will only be visible to owner of the Ask"}),Object(o.jsx)("input",{type:"text",name:"name",onChange:_,value:s.name,placeholder:"Hint: Elon Musk"})]}),Object(o.jsxs)("div",{className:"input__group",children:[Object(o.jsx)("label",{htmlFor:"",children:"Email"}),Object(o.jsx)("span",{className:"input__group__subtitle",children:"This won\u2019t be shared publicly, and will only be used to update you on your search"}),Object(o.jsx)("input",{type:"text",name:"email",onChange:_,value:s.email,placeholder:"Hint: elon.musk@spacex.com "})]}),Object(o.jsxs)("div",{className:"input__group",children:[Object(o.jsx)("label",{htmlFor:"",children:"LinkedIn (optional)"}),Object(o.jsx)("span",{className:"input__group__subtitle",children:"Adding your LinkedIn profile helps provide credibility for you."}),Object(o.jsx)("input",{type:"text",name:"url",onChange:_,value:s.url,placeholder:"Hint: https://linkedin.com/in/rocketman"})]})]}),Object(o.jsx)("div",{onClick:function(){var e=s.email,t=s.name;return e?g(e)?t?void 0:m("Please fill in a valid name"):m("Please fill in a valid email address"):m("Please fill in an email we can use to contact you!")},children:Object(o.jsx)(P,{text:"Proceed",onClick:function(){if(!b)if(h(!0),O)y.key===s.code?setTimeout((function(){h(!1),t(y.data,s)}),1500):setTimeout((function(){m("Incorrect code!"),h(!1)}),1e3);else{var e=window.location.href.split("/").reverse()[0],n={email:s.email,referralId:e};Z("/post/validateaccess",Object(u.a)({},n)).then((function(e){var n=e.data,c=n.status,r=n.data,i=n.message,l=n.error;return l&&a(l),"ERROR"===c?m(i,{autoClose:5e3}):"public"===r.accessControlMode?t(r,s):(x(1),void k(n))})).catch((function(e){var t;m((null===(t=e.response)||void 0===t?void 0:t.data.error)||"There was an unknown error")})).finally((function(){h(!1)}))}},loading:b,disabled:C})})]})]})}var fe=a.p+"static/media/brokenlink.d2960b0e.svg";a(269);function Oe(){var e=Object(N.f)();return Object(o.jsxs)("div",{className:"expired",children:[Object(o.jsx)("img",{src:fe,alt:""}),Object(o.jsxs)("h1",{children:["This post has expired. ",Object(o.jsx)("span",{onClick:function(){e.push("/")},children:"Go home"})]})]})}a(270);function me(e){var t=Object(N.f)(),a=Object(n.useState)(!0),c=Object(i.a)(a,2),r=c[0],s=c[1],l=Object(n.useState)({}),d=Object(i.a)(l,2),j=d[0],b=d[1],h=Object(n.useState)(""),p=Object(i.a)(h,2),f=p[0],O=p[1],m=Object(n.useState)(!0),x=Object(i.a)(m,2),v=x[0],g=x[1],w=Object(n.useState)(null),y=Object(i.a)(w,2),k=y[0],_=y[1],C=e.match.params.id;return"NOT_FOUND"===f?Object(o.jsx)(be,{}):"EXPIRED"===f?Object(o.jsx)(Oe,{}):Object(o.jsxs)("div",{id:"referral-page",children:[r?Object(o.jsx)(M.a,{style:{height:"225px"}}):Object(o.jsx)(se,{post:j,user:k}),Object(o.jsx)("div",{className:"post-ask",children:Object(o.jsx)(P,{text:"Post an Ask",onClick:function(){t.push("/post")}})}),Object(o.jsx)(Q,{open:v,toggleOpen:function(){return!1},component:function(){return Object(o.jsx)(pe,{onSubmit:function(e,t){b(Object(u.a)(Object(u.a)({},e),{},{referralId:C})),_(t),s(!1),g(!1)},setError:O})}})]})}var xe=a(202),ve=(a(271),a(425)),ge=a(426),we=a(430),ye=a(200),ke=a(34),_e=a(201),Ne=a(83),Ce=a(79),Se=a(204);function Le(e){var t=e.columnName,a=void 0===t?"":t,n=e.columnLabel,c=void 0===n?"":n,r=e.chartLabel,s=void 0===r?"":r,i=e.data,l=void 0===i?[]:i;return Object(o.jsx)(ve.a,{width:"100%",height:300,children:Object(o.jsxs)(ge.a,{data:l,children:[Object(o.jsx)(we.a,{strokeDasharray:"3 3"}),Object(o.jsx)(ye.a,{angle:-25,textAnchor:"end",minTickGap:-12,dataKey:"name",height:80,tick:{fontSize:12},children:Object(o.jsx)(ke.a,{value:s,offset:0,position:"insideBottom"})}),Object(o.jsx)(_e.a,{width:20}),Object(o.jsx)(Ne.a,{}),Object(o.jsx)(Ce.a,{verticalAlign:"top",align:"right"}),Object(o.jsx)(Se.a,{name:c,dataKey:a,stackId:"a",fill:h()({seed:a})})]})})}a(403);function Pe(e){var t=e.columnName,a=void 0===t?"":t,n=e.columnLabel,c=void 0===n?"":n,r=e.chartLabel,s=void 0===r?"":r,i=e.data,l=void 0===i?[]:i;return Object(o.jsx)(ve.a,{width:"100%",height:300,children:Object(o.jsxs)(ge.a,{data:l,children:[Object(o.jsx)(we.a,{strokeDasharray:"3 3"}),Object(o.jsx)(ye.a,{angle:-15,textAnchor:"end",minTickGap:-120,dataKey:"name",height:80,tick:{fontSize:12},children:Object(o.jsx)(ke.a,{value:s,offset:0,position:"insideBottom"})}),Object(o.jsx)(_e.a,{width:20}),Object(o.jsx)(Ne.a,{}),Object(o.jsx)(Ce.a,{verticalAlign:"top",align:"right"}),Object(o.jsx)(Se.a,{name:c,dataKey:a,stackId:"a",fill:h()({seed:a})})]})})}a(404);function Ae(e){var t=e.onSubmit,a=e.loading;return Object(o.jsxs)("div",{id:"kyc-form",className:"slider-form",children:[Object(o.jsxs)("div",{className:"header-group",children:[Object(o.jsx)("h1",{className:"slider-form__header",children:"Delete your ask"}),Object(o.jsx)("h6",{className:"slider-form__subheader",children:"Are you sure you want to delete your ask, this action cannot be reversed."})]}),Object(o.jsx)("form",{action:"javascript:void(0)",children:Object(o.jsx)(P,{text:"Delete Ask",onClick:t,loading:a})})]})}a(405);var Ie={details:"",title:""};function Fe(e){var t=e.postState,a=e.onSuccess,c=e.onClose,r=Object(n.useState)(Ie),s=Object(i.a)(r,2),l=s[0],d=s[1],j=Object(n.useState)(null),b=Object(i.a)(j,2),h=b[0],p=b[1],O=Object(n.useState)(!1),x=Object(i.a)(O,2),v=x[0],g=x[1];Object(n.useEffect)((function(){t&&(d({title:t.title,details:t.details}),p(t._id))}),[t]);var w=function(e){var t=e.target,a=t.name,n=t.value;d((function(e){return Object(u.a)(Object(u.a)({},e),{},Object(E.a)({},a,n))}))},y=!(!(l.name&&l.email&&l.url)||f.exec(l.url))||v;return Object(o.jsxs)("div",{id:"kycf-form",className:"slider-form",children:[Object(o.jsxs)("div",{className:"header-group",children:[Object(o.jsx)("h1",{className:"slider-form__header",children:"Edit post"}),Object(o.jsx)("h6",{className:"slider-form__subheader",children:"Edit the title and content of your post"})]}),Object(o.jsxs)("form",{action:"javascript:void(0)",children:[Object(o.jsxs)(o.Fragment,{children:[Object(o.jsxs)("div",{className:"input__group",children:[Object(o.jsx)("label",{htmlFor:"",children:"Title"}),Object(o.jsx)("input",{type:"text",name:"title",placeholder:"",onChange:w,value:l.title,disabled:v})]}),Object(o.jsxs)("div",{className:"textarea-group",children:[Object(o.jsx)("label",{htmlFor:"",children:"Summary"}),Object(o.jsx)("textarea",{name:"details",id:"",rows:"1",maxLength:"50",placeholder:"",onChange:w,value:l.details,disabled:v})]})]}),Object(o.jsx)("div",{onClick:function(){var e=l.name,t=l.email,a=l.url;return e?t?a&&!f.exec(a)?m("Please enter a valid linkedIn profile URL"):void 0:m("Please fill in an email we can use to contact you!"):m("Please fill in a name we can use to identify you!")},children:Object(o.jsx)(P,{text:"Save",onClick:function(){if(!v){if(!l.title)return m("Please fill in a title");if(!l.details)return m("Please fill in more details");g(!0);var e={postId:h,newDetails:{title:l.title,details:l.details}};Z("/post/edit",e).then((function(){m("your ask has been sucesfully edited"),a()})).catch((function(e){var t;m((null===(t=e.response)||void 0===t?void 0:t.data.error)||"There was an unknown error")})).finally((function(){g(!1),c()}))}},loading:v,disabled:y})})]})]})}a(406);var Te=[];function Ee(e){var t=e.match,a=Object(n.useState)(Te),c=Object(i.a)(a,2),r=c[0],s=c[1],l=Object(n.useState)([]),d=Object(i.a)(l,2),u=d[0],j=d[1],b=Object(n.useState)(null),h=Object(i.a)(b,2),p=h[0],f=h[1],v=Object(n.useState)(!1),w=Object(i.a)(v,2),y=w[0],k=w[1],_=Object(n.useState)(null),N=Object(i.a)(_,2),C=N[0],S=N[1],P=Object(n.useState)(null),A=Object(i.a)(P,2),I=A[0],E=A[1],R=Object(n.useState)(null),D=Object(i.a)(R,2),G=D[0],W=D[1],U=Object(n.useState)(null),B=Object(i.a)(U,2),M=B[0],H=B[1],z=Object(n.useState)(!1),Y=Object(i.a)(z,2),V=Y[0],$=Y[1],ee=Object(n.useRef)(null),te=u.find((function(e){return e._id===C.value})),ae=Object(n.useState)([]),ne=Object(i.a)(ae,2),ce=ne[0],re=ne[1],se=Object(n.useState)([]),ie=Object(i.a)(se,2),le=ie[0],oe=ie[1],de=Object(n.useState)([]),ue=Object(i.a)(de,2),je=ue[0],he=ue[1];Object(q.a)(ee,(function(){return E(!1)}));var pe=function(){f(!0)},fe=function(e){he(je.filter((function(t){return t.email!==e})))},Oe=function(){var e=Object(T.a)(F.a.mark((function e(t,a){return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,K.a.get(t).then((function(e){x("You have sucesfully rejected this applicant, they will be notified"),fe(a)})).catch((function(e){console.log(e),m("There was an error rejecting this candidate:",e.message)}));case 2:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),me=function(){var e=Object(T.a)(F.a.mark((function e(t,a){return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,K.a.get(t).then((function(e){x("You have sucesfully accepted this applicant, they will be notified"),fe(a)})).catch((function(e){console.log(e),m("There was an error accepting this candidate:",e.message)}));case 2:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),ve=function(){var e=Object(T.a)(F.a.mark((function e(t){return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Z("/dashboard/viewsbyday",{postId:t}).then((function(e){var t=e.data;re(t)})).catch((function(e){console.log(e)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ge=function(){var e=Object(T.a)(F.a.mark((function e(t){return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Z("/dashboard/viewsbyowner",{postId:t}).then((function(e){var t=e.data;oe(t)})).catch((function(e){console.log(e)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),we=function(){var e=Object(T.a)(F.a.mark((function e(t){return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J("/dashboard/applicants/".concat(t),{postId:t}).then((function(e){var t=e.data;he(t)})).catch((function(e){console.log(e)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();console.log(je);var ye=function(){V||($(!0),J("/post/close/".concat(C.value)).then((function(e){e.data;$(!1),W(!1),ke()})).catch((function(e){console.log(e),$(!1)})))};Object(n.useEffect)((function(){Object(T.a)(F.a.mark((function e(){var t;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(C&&C.value){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,t=C.value,k(!0),e.next=7,ve(t);case 7:return e.next=9,ge(t);case 9:return e.next=11,we(t);case 11:k(!1),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(2),console.log("err"),k(!1);case 18:case"end":return e.stop()}}),e,null,[[2,14]])})))()}),[C]);var ke=function(){var e,a=t.params.token,n=(e=a,Object(O.a)(e)).email;n&&g(n)||pe(),y||(k(!0),Z("/dashboard/activeposts",{email:n}).then((function(e){var t=e.data,a=t.map((function(e){return{value:e._id,label:e.title}}));s(a),S(a[0]),j(t)})).catch((function(e){m(e.message)})).finally((function(){k(!1)})))};if(Object(n.useEffect)((function(){try{ke()}catch(e){pe()}}),[]),p)return Object(o.jsx)(be,{});var _e=function(e){var t=e.oac,a=Object(n.useState)(!1),c=Object(i.a)(a,2),r=c[0],s=c[1],l=function(){var e=Object(T.a)(F.a.mark((function e(t,a,n){return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r){e.next=2;break}return e.abrupt("return");case 2:if(s(!0),e.prev=3,"accept"!==n){e.next=9;break}return e.next=7,me(t,a);case 7:e.next=11;break;case 9:return e.next=11,Oe(t,a);case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(3),m("There was an error:",e.t0.message);case 16:return e.prev=16,s(!1),e.finish(16);case 19:case"end":return e.stop()}}),e,null,[[3,13,16,19]])})));return function(t,a,n){return e.apply(this,arguments)}}();return Object(o.jsxs)("div",{className:"one__candidate",children:[Object(o.jsx)("span",{className:t.url?"active__candidate candidate__name":"candidate__name",onClick:function(){t.url&&window.open(t.url,"_blank")},children:t.fullName}),Object(o.jsxs)("div",{className:"candidate__actions",children:[Object(o.jsx)("span",{onClick:function(){return l(t.acceptURL,t.email,"accept")},className:"actions__accept",children:r?Object(o.jsx)(L,{}):"Accept"}),Object(o.jsx)("span",{onClick:function(){return l(t.rejectURL,t.email,"decline")},className:"actions__reject",children:r?Object(o.jsx)(L,{}):"Reject"})]})]})};return Object(o.jsxs)("div",{id:"dashboard-page",children:[Object(o.jsxs)("div",{className:"header__tab",children:[Object(o.jsx)("div",{className:"header__select",children:Object(o.jsx)(xe.a,{isLoading:y,placeholder:"Select your post",options:r,isDisabled:y,onChange:function(e){return S(e)},value:C})}),Object(o.jsxs)("div",{className:"header__dropdown",children:[Object(o.jsx)("i",{onClick:function(){return E(!0)},class:"fa fa-2x fa-bars","aria-hidden":"true"}),I&&Object(o.jsxs)("div",{ref:ee,className:"options__dropdown",children:[Object(o.jsxs)("div",{onClick:function(){H(!0)},className:"dd-item",children:[Object(o.jsx)("i",{class:"fa fa-pencil","aria-hidden":"true"}),Object(o.jsx)("span",{children:"Edit Post"})]}),Object(o.jsxs)("div",{onClick:function(){W(!0)},className:"dd-item",children:[Object(o.jsx)("i",{class:"fa fa-trash","aria-hidden":"true"}),Object(o.jsx)("span",{children:"Delete Post"})]})]})]})]}),y?Object(o.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:Object(o.jsx)(X,{})}):Object(o.jsxs)(o.Fragment,{children:[ce.length?Object(o.jsx)(Le,{columnName:"views",columnLabel:"views per day",chartLabel:"Total views of posts per day",data:ce}):"",le.length?Object(o.jsx)("div",{style:{marginTop:"20px"},children:Object(o.jsx)(Pe,{columnName:"views",columnLabel:"views per referrrer",chartLabel:"Views of posts per referrrer",data:le})}):"",!ce.length&&!le.length&&Object(o.jsx)("p",{style:{textAlign:"center"},children:"This Job has no views yet"}),Object(o.jsxs)("div",{className:"candidates__applied",children:[Object(o.jsx)("p",{children:"Shortlist candidates"}),Object(o.jsxs)("div",{className:"all__candidates",children:[je.map((function(e){return Object(o.jsx)(_e,{oac:e})})),!je.length&&Object(o.jsx)("p",{style:{textAlign:"center",marginTop:"20px"},children:"This Job has no applicants yet"})]})]})]}),Object(o.jsx)(Q,{component:function(){return Object(o.jsx)(Ae,{onSubmit:ye,loading:V})},open:G,toggleOpen:function(){return G&&!V&&W(!G)}}),Object(o.jsx)(Q,{component:function(){return Object(o.jsx)(Fe,{onClose:function(){return H(!1)},postState:te,onSuccess:ke})},open:M,toggleOpen:function(){return M&&!V&&H(!M)}})]})}a(182),a(421);function Re(){return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)(w,{}),Object(o.jsxs)(N.c,{children:[Object(o.jsx)(N.a,{exact:!0,path:"/",component:A}),Object(o.jsx)(N.a,{exact:!0,path:"/post",component:ue}),Object(o.jsx)(N.a,{path:"/referral/:id",component:me}),Object(o.jsx)(N.a,{path:"/dashboard/:token",component:Ee})]}),Object(o.jsx)(j.a,{}),Object(o.jsx)(C.a,{event:"click",className:"tooltip"})]})}var De=function(e){return Object(o.jsx)(l.a,{children:Object(o.jsx)(Re,{})})},Ge=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,433)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,r=t.getLCP,s=t.getTTFB;a(e),n(e),c(e),r(e),s(e)}))};s.a.render(Object(o.jsx)(c.a.StrictMode,{children:Object(o.jsx)(_,{children:Object(o.jsx)(De,{})})}),document.getElementById("root")),Ge()},59:function(e,t,a){}},[[422,1,2]]]);
//# sourceMappingURL=main.5fb8b5df.chunk.js.map